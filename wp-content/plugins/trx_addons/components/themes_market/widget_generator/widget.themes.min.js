(function(){window.TRX_Addons_Widget_Themes=function(b){var a=this;a.request_busy=false;a.params=b;a.node=document.getElementById(a.params.uid);if(!a.node){return null}a.node.innerHTML='<div class="trx_addons_widget_themes"><div class="trx_addons_widget_themes_content"></div><div class="trx_addons_widget_themes_footer trx_addons_widget_themes_'+(a.params.logo?"with":"without")+'_logo">'+(a.params.logo?"<"+(a.params.logo&&a.params.logo_link?'a href="'+a.params.logo_link+'"':"span")+' class="trx_addons_widget_themes_logo"><img src="'+a.params.logo+'" alt=""></'+(a.params.logo_link?"a":"span")+">":"")+'<span class="trx_addons_widget_themes_pagination" data-page="'+a.params.page+'"><span class="trx_addons_widget_themes_pagination_prev'+(a.params.page==1?" trx_addons_widget_themes_pagination_disabled":"")+'"></span><span class="trx_addons_widget_themes_pagination_next"></span></span></div></div>';a.themes=a.node.getElementsByClassName("trx_addons_widget_themes")[0];a.content=a.themes.getElementsByClassName("trx_addons_widget_themes_content")[0];a.footer=a.themes.getElementsByClassName("trx_addons_widget_themes_footer")[0];a.popup=false;window.trx_addons_captcha_widget=false;a.logo=a.footer.getElementsByClassName("trx_addons_widget_themes_logo")[0];a.pagination=a.footer.getElementsByClassName("trx_addons_widget_themes_pagination")[0];a.pagination_prev=a.pagination.getElementsByClassName("trx_addons_widget_themes_pagination_prev")[0];a.pagination_next=a.pagination.getElementsByClassName("trx_addons_widget_themes_pagination_next")[0];a.pagination_prev.addEventListener("click",function(c){if(c.target.className.indexOf("trx_addons_widget_themes_pagination_disabled")!=-1){return}a.params.page--;a.show()});a.pagination_next.addEventListener("click",function(c){if(c.target.className.indexOf("trx_addons_widget_themes_pagination_disabled")!=-1){return}a.params.page++;a.show()});a.themes.addEventListener("click",function(d){if(!a.popup){return}if(d.target.className.indexOf("trx_addons_widget_themes_popup_close")!=-1){if(window.jQuery){jQuery(a.popup).fadeOut()}else{a.popup.style.display="none"}d.cancelBubble=true;d.preventDefault();return false}else{if(d.target.tagName.toLowerCase()=="a"){var g=d.target.getAttribute("data-id");if(!g){return}var f=d.target.getAttribute("data-title");a.popup.getElementsByClassName("trx_addons_widget_themes_popup_theme_id")[0].value=g;a.popup.getElementsByClassName("trx_addons_widget_themes_popup_theme_name")[0].value=f;a.popup.getElementsByClassName("trx_addons_widget_themes_popup_title_name")[0].innerHTML=f;if(window.jQuery){jQuery(a.popup).fadeIn()}else{a.popup.style.display="block"}if(window.grecaptcha&&window.trx_addons_captcha_widget){grecaptcha.reset(window.trx_addons_captcha_widget)}var c=a.popup.getElementsByTagName("form")[0];if(c){c.addEventListener("submit",function(i){var h=new XMLHttpRequest;h.onreadystatechange=function(){if(h.readyState==4){var k={error:""};try{k=h.status==200?JSON.parse(h.responseText):{error:a.params.msg_error_service_unavailable}}catch(m){k.error=a.params.msg_error_incorrect_answer;console.log(h.responseText)}var l=a.popup.getElementsByClassName("trx_addons_widget_themes_popup_message")[0];a.toggleClass(l,"trx_addons_widget_themes_popup_message_error",k.error);a.toggleClass(l,"trx_addons_widget_themes_popup_message_success",!k.error);l.innerHTML=k.error?k.error:a.params.msg_order_accepted;if(window.jQuery){jQuery(l).fadeIn().delay(4000).fadeOut();setTimeout(function(){jQuery(a.popup).fadeOut()},4000)}else{l.style.display="block";setTimeout(function(){l.style.display="none";a.popup.style.display="none"},4000)}}};var j="theme_id="+encodeURIComponent(c.theme_id.value)+"&theme_name="+encodeURIComponent(c.theme_name.value)+"&name="+encodeURIComponent(c.name.value)+"&email="+encodeURIComponent(c.email.value)+"&phone="+encodeURIComponent(c.phone.value)+"&message="+encodeURIComponent(c.message.value)+"&g-recaptcha-response="+encodeURIComponent(c["g-recaptcha-response"].value);h.open("POST",c.getAttribute("action"),true);h.setRequestHeader("Content-Type","application/x-www-form-urlencoded");h.send(j);i.cancelBubble=true;i.preventDefault();return false})}d.cancelBubble=true;d.preventDefault();return false}}});a.show();return a};TRX_Addons_Widget_Themes.prototype.decode=function(c){var d="",a=20;for(var b=0;b<c.length;b++){d+=String.fromCharCode(c.charCodeAt(b)-((b+1)%a))}return d};TRX_Addons_Widget_Themes.prototype.getQueryParams=function(){var b={};for(var a in this.params){if(["downloads","widget","columns","logo","logo_link","affid","style","mode","method","affdata","font"].indexOf(a)==-1&&a.indexOf("hide_")==-1&&a.indexOf("msg_")==-1){b[a]=this.params[a]}}return b};TRX_Addons_Widget_Themes.prototype.getDownloadsUrl=function(){return this.addParamsToUrl((this.params.downloads.substr(0,4)=="http"?"":document.location.protocol)+this.params.downloads+"/wp-json/trx_addons/v1/themes/list",this.getQueryParams())};TRX_Addons_Widget_Themes.prototype.addParamsToUrl=function(f,j){var c=arguments[2]!==undefined?arguments[2]:true;var a=f.indexOf("?");var g={};if(a>0){var h=f.substr(a+1).split("&");var d="";for(var e=0;e<h.length;e++){var d=h[e].split("=");g[d[0]]=d.length>1?d[1]:""}}for(var b in j){g[b]=j[b]}f=(a>0?f.substr(0,a):f)+"?";var e=0;for(b in g){if(c&&g[b]==""){continue}f+=(e++>0?"&":"")+b+"="+g[b]}return f};TRX_Addons_Widget_Themes.prototype.toggleClass=function(f,b,a){var e=false;var d=f.className.split(" ");for(var c=0;c<d.length;c++){if(d[c]==b||(d[c].indexOf(b)>=0&&a==0)){e=true;if(a==0){delete d[c]}else{break}}}if(e&&a==0){f.className=d.join(" ")}else{if(!e&&a==1){d.push(b);f.className=d.join(" ")}}};TRX_Addons_Widget_Themes.prototype.show=function(c){if(typeof XMLHttpRequest=="undefined"){console.error(b.params.msg_error_unsupported_platform);return}var b=this;if(b.request_busy){console.error(b.params.msg_error_wait_for_answer);return}b.request_busy=true;setTimeout(function(){b.request_busy=false},10000);if(typeof c!="undefined"){b.params=c}var a=new XMLHttpRequest;a.onreadystatechange=function(){if(a.readyState==4){b.request_busy=false;var f=a.status==200?JSON.parse(a.responseText):{error:b.params.msg_error_service_unavailable};var p="";if(f.css&&b.node.getElementsByTagName("link").length==0){p=document.createElement("link");p.async=true;p.type="text/css";p.rel="stylesheet";p.property="stylesheet";p.href=f.css+"?ver="+Math.random();b.node.appendChild(p)}if(!document.getElementById("trx_addons_widget_main_style")){p=document.createElement("style");p.type="text/css";p.id="trx_addons_widget_main_style";b.node.appendChild(p)}if(b.params.accent1){document.getElementById("trx_addons_widget_main_style").innerHTML=".trx_addons_widget_themes_style_classic .trx_addons_widget_themes_item_buttons a + a {border-color:"+b.params.accent1+";background-color:"+b.params.accent1+";}.trx_addons_widget_themes_style_classic .trx_addons_widget_themes_item_buttons a + a:hover {background-color:"+b.params.accent1+";}.trx_addons_widget_themes_style_modern .trx_addons_widget_themes_item_meta {background-color:"+b.params.accent2+";}.trx_addons_widget_themes_item_buttons a {border-color:"+b.params.accent2+";color:"+b.params.accent2+";}.trx_addons_widget_themes_item_buttons a:hover {background-color:"+b.params.accent2+";}.trx_addons_widget_themes_item_buttons a + a {background-color:"+b.params.accent2+";}.trx_addons_widget_themes_item_buttons a + a:hover {color:"+b.params.accent2+";}.trx_addons_widget_themes_style_classic .trx_addons_widget_themes_item_buttons a {background-color:"+b.params.accent2+";}.trx_addons_widget_themes_style_classic .trx_addons_widget_themes_item_buttons a:hover {color:"+b.params.accent2+";}.trx_addons_widget_themes_style_modern .trx_addons_widget_themes_item_price {background-color:"+b.params.accent3+";}.trx_addons_widget_themes_style_modern .trx_addons_widget_themes_item_price:after {border-color:transparent  transparent "+b.params.accent3+";}"}var h=document.getElementById("trx_addons_widget_font_link");var g=document.getElementById("trx_addons_widget_font_style");if(h&&(!b.params.font||h.getAttribute("data-font")!=b.params.font)){h.remove();g.remove()}if(b.params.font){p=document.createElement("link");p.async=true;p.type="text/css";p.rel="stylesheet";p.property="stylesheet";p["data-font"]=b.params.font;p.id="trx_addons_widget_font_link";p.href="https://fonts.googleapis.com/css?family="+encodeURIComponent(b.params.font)+":400,400i,500,700";b.node.appendChild(p);p=document.createElement("style");p.type="text/css";p.id="trx_addons_widget_font_style";p.innerHTML='.trx_addons_widget_themes_item_title, .trx_addons_widget_themes_item_price, .trx_addons_widget_themes_item_meta { font-family: "'+b.params.font+'";	}';b.node.appendChild(p)}if(b.params.mode=="showcase"&&b.params.method=="popup"){if(b.popup===false){var e=document.createElement("div");e.className="trx_addons_widget_themes_popup";b.themes.appendChild(e);b.popup=b.themes.getElementsByClassName("trx_addons_widget_themes_popup")[0]}b.popup.innerHTML='<span class="trx_addons_widget_themes_popup_close"></span><div class="trx_addons_widget_themes_popup_header"><h5 class="trx_addons_widget_themes_popup_title">'+b.params.msg_order_site+' &quot;<span class="trx_addons_widget_themes_popup_title_name"></span>&quot;</h5></div><form class="trx_addons_widget_themes_popup_form" action="/widget.themes.php" method="post"><input type="hidden" name="theme_id" class="trx_addons_widget_themes_popup_theme_id" value=""><input type="hidden" name="theme_name" class="trx_addons_widget_themes_popup_theme_name" value=""><div class="trx_addons_widget_field_set"><div class="trx_addons_widget_field trx_addons_widget_field_name"><label><span class="trx_addons_widget_field_label">'+b.params.msg_field_label_name+'</span><span class="trx_addons_widget_field_required">*</span><input type="text" name="name" placeholder="'+b.params.msg_field_placeholder_name+'"></label></div><div class="trx_addons_widget_field trx_addons_widget_field_email"><label><span class="trx_addons_widget_field_label">'+b.params.msg_field_label_email+'</span><span class="trx_addons_widget_field_required">*</span><input type="text" name="email" placeholder="'+b.params.msg_field_placeholder_email+'"></label></div><div class="trx_addons_widget_field trx_addons_widget_field_phone"><label><span class="trx_addons_widget_field_label">'+b.params.msg_field_label_phone+'</span><input type="text" name="phone" placeholder="'+b.params.msg_field_placeholder_phone+'"></label></div></div><div class="trx_addons_widget_field_set"><div class="trx_addons_widget_field trx_addons_widget_field_message"><label><span class="trx_addons_widget_field_label">'+b.params.msg_field_label_message+'</span><textarea name="message" placeholder="'+b.params.msg_field_placeholder_message+'"></textarea></label></div>'+(b.params.captcha?'<div class="trx_addons_widget_field trx_addons_widget_field_captcha"><div id="g_recaptcha_widget" data-sitekey="'+b.params.captcha+'"></div></div>':"")+'</div><div class="trx_addons_widget_field trx_addons_widget_field_button"><button>'+b.params.msg_field_button_order+'</button></div><div class="trx_addons_widget_themes_popup_message"></div></form>';if(b.params.captcha){if(b.node.getElementsByTagName("script").length==0){p=document.createElement("script");p.async=true;p.defer=true;p.src="https://www.google.com/recaptcha/api.js?onload=trx_addons_widget_themes_captcha_init&render=explicit";b.node.appendChild(p)}}}b.toggleClass(b.themes,"trx_addons_widget_themes_with_popup",b.popup!==false);b.toggleClass(b.themes,"trx_addons_widget_themes_without_bg",b.params.hide_background);b.toggleClass(b.themes,"trx_addons_widget_themes_without_shadow",b.params.hide_shadow);b.toggleClass(b.themes,"trx_addons_widget_themes_ratio_",false);b.toggleClass(b.themes,"trx_addons_widget_themes_ratio_"+b.params.ratio,true);var k="",o="",d="",m="",n=b.params.style=="classic"?"h6":"h6";if(f.error){k+='<div class="trx_addons_widget_error">'+f.error+"</div>"}else{if(f.list.length>0){k+=b.params.columns>1?'<div class="trx_addons_widget_themes_columns trx_addons_widget_columns_wrap">':"";for(var j=0;j<f.list.length;j++){o=(b.params.hide_price?"":'<div class="trx_addons_widget_themes_item_price">'+f.list[j].price+"</div>")+(b.params.hide_meta?"":'<div class="trx_addons_widget_themes_item_meta"><span class="trx_addons_widget_themes_item_version"><span>v.</span><span>'+f.list[j].version+'</span></span><span class="trx_addons_widget_themes_item_date"><span>'+f.list[j].date_updated+"</span></span></div>");m=(b.params.hide_buttons?"":'<div class="trx_addons_widget_themes_item_buttons"><a href="'+f.list[j].demo_url+'" target="_blank">'+b.params.msg_view_demo+'</a><a href="'+d+'"'+(d!="#"?' target="_blank"':"")+' data-id="'+f.list[j].id+'" data-title="'+f.list[j].title+'">'+(b.params.mode=="widget"?b.params.msg_buy_now:b.params.msg_order_now)+"</a></div>");d=b.params.mode=="widget"?(f.list[j].download_url+(b.params.affid?((b.params.affid.indexOf("?")>0?"&":"?")+b.params.affid):"")):(b.params.affdata?(b.params.method=="web"?("mailto:"+b.decode(b.params.affdata)+"?subject="+encodeURIComponent(b.params.msg_email_subject.replace("%s",f.list[j].title))+"&body="+encodeURIComponent(b.params.msg_email_text.replace("%s",f.list[j].title))):"#"):"");k+=(b.params.columns>1?'<div class="trx_addons_widget_column-1_'+b.params.columns+'">':"")+'<div class="trx_addons_widget_themes_item trx_addons_widget_themes_style_'+b.params.style+'">'+(f.list[j].screenshot||f.list[j].featured?'<div class="trx_addons_widget_themes_item_featured_wrap'+(b.params.hide_animation?"":" trx_addons_widget_themes_item_featured_with_animation")+'"><div class="trx_addons_widget_themes_item_featured" style="background-image:url('+(!b.params.hide_animation&&f.list[j].screenshot?f.list[j].screenshot:f.list[j].featured)+');"></div>'+(b.params.style=="modern"?o:"")+(b.params.style=="classic"?m:"")+'<a href="'+d+'"'+(d!="#"?' target="_blank"':"")+' data-id="'+f.list[j].id+'" data-title="'+f.list[j].title+'"></a></div>':"")+'<div class="trx_addons_widget_themes_item_header">'+(b.params.hide_title?"":"<"+n+' class="trx_addons_widget_themes_item_title"><a href="'+d+'"'+(d!="#"?' target="_blank"':"")+' data-id="'+f.list[j].id+'" data-title="'+f.list[j].title+'">'+f.list[j].title+"</a></"+n+">")+(b.params.style=="classic"?o:"")+"</div>"+(f.list[j].content?'<div class="trx_addons_widget_themes_item_content">'+f.list[j].content+"</div>":"")+(b.params.style=="modern"?m:"")+"</div>"+(b.params.columns>1?"</div>":"")}k+=b.params.columns>1?"</div>":""}else{k+='<div class="trx_addons_widget_error">'+b.params.msg_no_themes+"</div>"}if(b.footer){b.footer.style.display=!b.params.hide_logo||!b.params.hide_pagination?"block":"none";b.toggleClass(b.footer,"trx_addons_widget_themes_with_logo",!b.params.hide_logo);b.toggleClass(b.footer,"trx_addons_widget_themes_without_logo",b.params.hide_logo);if(b.logo){b.logo.style.display=!b.params.hide_logo?"inline-block":"none"}b.toggleClass(b.footer,"trx_addons_widget_themes_with_pagination",!b.params.hide_pagination);b.toggleClass(b.footer,"trx_addons_widget_themes_without_pagination",b.params.hide_pagination);b.pagination.style.display=!b.params.hide_pagination&&(f.list.length>0||b.params.page>0)?"inline-block":"none";b.pagination.setAttribute("data-page",b.params.page);b.toggleClass(b.pagination_prev,"trx_addons_widget_themes_pagination_disabled",b.params.page==1);b.toggleClass(b.pagination_next,"trx_addons_widget_themes_pagination_disabled",f.list.length<b.params.count)}}if(window.jQuery){var l=jQuery(b.content);l.css("font-family",b.params.font?'"'+b.params.font+'"':"inherit");if(l.html()==""){l.hide().html(k).fadeIn()}else{l.fadeOut(function(){l.html(k);l.fadeIn()})}}else{b.content.style["font-family"]=b.params.font?'"'+b.params.font+'"':"inherit";b.content.innerHTML=k}}};a.open("GET",this.getDownloadsUrl(),true);a.send()};window.trx_addons_widget_themes_captcha_init=function(){var a=document.getElementById("g_recaptcha_widget");window.trx_addons_captcha_widget=grecaptcha.render("g_recaptcha_widget",{sitekey:a.getAttribute("data-sitekey"),callback:function(b){document.getElementById("g-recaptcha-response").value=b}})}})();